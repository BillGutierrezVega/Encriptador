<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encriptador</title>
    <link rel="stylesheet" href="css/estilos.css">
</head>
<body>
    <header>
        <img src="img/a.jpg" alt="" id="imagen-a">
        <h1>Encriptador</h1>
    </header>

    <main>
        <div class="input-botones">
            <label for="">Introduzca la palabra </label>
            <input id="secreto" type="text"><br>
            <button onclick="encriptarTexto()" id="btn-encriptar">Encriptar</button> 
            <button onclick="desencriptar()" id="btn-desencriptar">Desencriptar</button><br>
        </div>

        <div class="textarea-copia">
            <textarea name="" id="textareas" cols="30" rows="10"></textarea><br>
            <button onclick="copiaTextarea()">Copiar</button>
        </div>

    </main>

    <footer>Desarrollado por Bill To√±o Gutierrez Vega (todos los derechos reservados) - 2023</footer>

    <script>

        function encriptarTexto() {
            var secreto = document.getElementById("secreto").value;
            var texto = "";
            var letrasEncriptadas = {
                "a": "ai",
                "e": "enter",
                "i": "imes",
                "o": "ober",
                "u": "ufat"
            };
            for (let letra of secreto) {
                // hasOwnProperty(): verifica si existe la propiedad dentro del objeto
                if (letrasEncriptadas.hasOwnProperty(letra)) {
                    texto += letrasEncriptadas[letra];
                } else {
                    texto += letra;
                }
            }

            document.getElementById("textareas").value = texto;
            mensajeEncriptado = texto;
        }

        function copiaTextarea(){
            var textareas = document.getElementById('textareas');
            textareas.select();
            document.execCommand('copy');
            return textareas.value;
        }
        
        var mensajeEncriptado;

        var tablaReemplazos = {
            "a": "ai",
            "e": "enter",
            "i": "imes",
            "o": "ober",
            "u": "ufat"
        };
        
        var resultado;

        function desencriptar(){
            if (document.getElementById("secreto").value){
                resultado = document.getElementById("secreto").value;
            }else{
                resultado = mensajeEncriptado;
            }
            
            for (var letra in tablaReemplazos) {
                // RegExp: se usa para crear expresiones regulares
                var palabraBuscar = new RegExp(tablaReemplazos[letra], 'g');
                resultado = resultado.replace(palabraBuscar, letra);
            }
            document.getElementById("textareas").value = resultado;
        }

    </script>
</body>
</html>